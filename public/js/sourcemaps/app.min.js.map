{"version":3,"sources":["node_modules/browser-pack/_prelude.js","public/js/app.js","public/js/helpers/ajaxspiner.js","public/js/helpers/util.js","public/js/modules/header.js","public/js/modules/search.js","public/js/pages/home.page.js","public/js/pages/searchresult.page.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nvar header = require('./modules/header'),   \n    ajaxspiner = require('./helpers/ajaxspiner'),\n    util = require('./helpers/util');\n\nvar pages = {\n    homepage: require('./pages/home.page'),\n    searchresultpage: require('./pages/searchresult.page')\n}\n\nfunction loadJavascriptForPage() {\n    if(typeof window.pageContext === 'undefined' || typeof window.pageContext.pageName === 'undefined') {\n        return;\n    }\n\n    if(typeof pages[window.pageContext.pageName] !== 'undefined') {\n        pages[window.pageContext.pageName].init();\n    }    \n}\n\nvar app = {\n    init: function() {    \n        header.init();\n        loadJavascriptForPage()\n    }\n};\n\n$(function() {\n    app.init();    \n});","'use strict';\n\nvar ajaxspiner = {},\n    spinner,\n    spinnerContainer,\n    defaultOpts = {\n        lines: 11, // The number of lines to draw\n        length: 15, // The length of each line\n        width: 6, // The line thickness\n        radius: 15, // The radius of the inner circle\n        scale: 1, // Scales overall size of the spinner\n        corners: 0.8, // Corner roundness (0..1)\n        color: '#00C3FF', // #rgb or #rrggbb or array of colors\n        opacity: 0.15, // Opacity of the lines\n        rotate: 0, // The rotation offset\n        direction: 1, // 1: clockwise, -1: counterclockwise\n        speed: 1, // Rounds per second\n        trail: 60, // Afterglow percentage\n        fps: 20, // Frames per second when using setTimeout() as a fallback for CSS\n        zIndex: 2e9, // The z-index (defaults to 2000000000)\n        className: 'spinner', // The CSS class to assign to the spinner\n        top: '50%', // Top position relative to parent\n        left: '50%', // Left position relative to parent\n        shadow: false, // Whether to render a shadow\n        hwaccel: false, // Whether to use hardware acceleration\n        position: 'absolute' // Element positioning\n    };\n\najaxspiner.start = function (spinnerSize, spinnerContainer, isSpinnerLoadingText, isOverlayDiv) {\n    spinnerContainer = spinnerContainer || 'body';\n    var spinnerSize = spinnerSize || 'large',\n        isSpinnerLoadingText = isSpinnerLoadingText || false,\n        isOverlayDiv = typeof isOverlayDiv !== 'undefined' ? isOverlayDiv : true,\n        opts;\n\n    switch (spinnerSize) {\n        case 'small':\n            opts = $.extend(defaultOpts, { lines: 11, length: 8, width: 3, radius: 6 });\n            break;\n        case 'medium':\n            opts = $.extend(defaultOpts, { lines: 11, length: 10, width: 5, radius: 11 });\n            break;\n        default: //large size for page\n            opts = defaultOpts;\n            break;\n    }\n    //var baseClass = this;\n    var target = document.querySelector(spinnerContainer);\n\n    //check and add \"position: relative\" for spinner container\n    if (target.style.position !== 'absolute' || target.style.position !== 'relative') {\n        target.style.position = 'relative';\n    }\n\n    //add ajax overlay div\n    if (isOverlayDiv !== false) {\n        var overlayDiv = document.createElement('div');\n        overlayDiv.classList.add('ajax-overlay');\n        target.appendChild(overlayDiv);\n    }\n\n    spinner = new Spinner(opts).spin(target);\n    if (typeof isSpinnerLoadingText !== 'undefined' && isSpinnerLoadingText === true) {\n        var spinnerLoadingTextDiv = document.createElement('div');\n        var textNote = document.createTextNode('Loading more ...');\n        spinnerLoadingTextDiv.appendChild(textNote);\n        spinnerLoadingTextDiv.classList.add('spinnerLoadingText');        \n        spinnerLoadingTextDiv.classList.add(spinnerSize);\n        spinner.el.appendChild(spinnerLoadingTextDiv);\n    }\n};\n\najaxspiner.stop = function () {\n    spinner.stop();\n    $(spinnerContainer).find('.ajax-overlay').remove();\n};\n\nmodule.exports = ajaxspiner;","'use strict';\n\nfunction isAuthenticated() {\n    if(typeof userId !== 'undefined' && userId !== '')\n        return true;\n    return false;\n}\n\nvar util = {\n    isAuthenticated: isAuthenticated\n};\n\nmodule.exports = util;","'use strict';\n\nvar search = require('./search');\n\nfunction toggleMenu() {\n    $('.toggle-menu').on('click', function (e) {\n        e.preventDefault();\n        $('body').toggleClass('mobile-menu');\n    })\n}\n\nfunction init() {\n    toggleMenu();\n    search.init();\n}\n\nmodule.exports = {\n    init: init\n}","'use strict';\n\nfunction bindAutoComplete(data) {\n    var $searchSuggestion = $('#search-suggestion');    \n    $searchSuggestion.empty(); \n\n    if(data == null) {\n        return;\n    }\n\n    var len = data.suggestions.length;\n    var result = '<ul>';    \n    $.each(data.suggestions, function(index, item) {        \n        result += '<li><a href=\"/search?word=' + item.select + '&type=vi\">' + $(item.data).html() + '</a></li>';\n    });\n    $searchSuggestion.append(result + '</ul>');\n}\n\nfunction searchAutocomplete() {\n    $(\"#word\").on('input', function() {\n        var $self = $(this);\n        var word = $self.val().trim();\n        if(word === '') {\n            bindAutoComplete(null);\n            return;\n        } \n\n        $.ajax({\n            url: \"/api/vidict/autocomplete/\" + $(this).val().trim(),              \n            method: \"GET\",\n            dataType: \"json\",\n            success: function (data) {      \n                bindAutoComplete(data);\n            }\n        });     \n    });    \n}\n\nfunction init() {\n    searchAutocomplete();\n}\n\nmodule.exports = {\n    init: init\n};\n","'use strict';\n\nfunction init() {\n    console.log('Home Page');\n}\n\nmodule.exports = {\n    init: init\n}","'use strict';\n\nvar util = require('../helpers/util');\n\nfunction addToList() {\n    $('#addToList').on('click', function(e) {\n        e.preventDefault();\n        if(!util.isAuthenticated()) {\n            $.magnificPopup.open({\n                items: {\n                    src: '.authen-popup', // can be a HTML string, jQuery object, or CSS selector\n                    type: 'inline'\n                }\n            });\n            return;\n        } else {\n            $.magnificPopup.open({\n                items: {\n                    src: '.add-to-list-popup', // can be a HTML string, jQuery object, or CSS selector\n                    type: 'inline'\n                }\n            });\n            return;\n        }\n    })\n}\n\nfunction init() {\n    addToList();\n}\n\nmodule.exports = {\n    init: init\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJwdWJsaWMvanMvYXBwLmpzIiwicHVibGljL2pzL2hlbHBlcnMvYWpheHNwaW5lci5qcyIsInB1YmxpYy9qcy9oZWxwZXJzL3V0aWwuanMiLCJwdWJsaWMvanMvbW9kdWxlcy9oZWFkZXIuanMiLCJwdWJsaWMvanMvbW9kdWxlcy9zZWFyY2guanMiLCJwdWJsaWMvanMvcGFnZXMvaG9tZS5wYWdlLmpzIiwicHVibGljL2pzL3BhZ2VzL3NlYXJjaHJlc3VsdC5wYWdlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGVhZGVyID0gcmVxdWlyZSgnLi9tb2R1bGVzL2hlYWRlcicpLCAgIFxuICAgIGFqYXhzcGluZXIgPSByZXF1aXJlKCcuL2hlbHBlcnMvYWpheHNwaW5lcicpLFxuICAgIHV0aWwgPSByZXF1aXJlKCcuL2hlbHBlcnMvdXRpbCcpO1xuXG52YXIgcGFnZXMgPSB7XG4gICAgaG9tZXBhZ2U6IHJlcXVpcmUoJy4vcGFnZXMvaG9tZS5wYWdlJyksXG4gICAgc2VhcmNocmVzdWx0cGFnZTogcmVxdWlyZSgnLi9wYWdlcy9zZWFyY2hyZXN1bHQucGFnZScpXG59XG5cbmZ1bmN0aW9uIGxvYWRKYXZhc2NyaXB0Rm9yUGFnZSgpIHtcbiAgICBpZih0eXBlb2Ygd2luZG93LnBhZ2VDb250ZXh0ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93LnBhZ2VDb250ZXh0LnBhZ2VOYW1lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYodHlwZW9mIHBhZ2VzW3dpbmRvdy5wYWdlQ29udGV4dC5wYWdlTmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHBhZ2VzW3dpbmRvdy5wYWdlQ29udGV4dC5wYWdlTmFtZV0uaW5pdCgpO1xuICAgIH0gICAgXG59XG5cbnZhciBhcHAgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24oKSB7ICAgIFxuICAgICAgICBoZWFkZXIuaW5pdCgpO1xuICAgICAgICBsb2FkSmF2YXNjcmlwdEZvclBhZ2UoKVxuICAgIH1cbn07XG5cbiQoZnVuY3Rpb24oKSB7XG4gICAgYXBwLmluaXQoKTsgICAgXG59KTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhamF4c3BpbmVyID0ge30sXG4gICAgc3Bpbm5lcixcbiAgICBzcGlubmVyQ29udGFpbmVyLFxuICAgIGRlZmF1bHRPcHRzID0ge1xuICAgICAgICBsaW5lczogMTEsIC8vIFRoZSBudW1iZXIgb2YgbGluZXMgdG8gZHJhd1xuICAgICAgICBsZW5ndGg6IDE1LCAvLyBUaGUgbGVuZ3RoIG9mIGVhY2ggbGluZVxuICAgICAgICB3aWR0aDogNiwgLy8gVGhlIGxpbmUgdGhpY2tuZXNzXG4gICAgICAgIHJhZGl1czogMTUsIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxuICAgICAgICBzY2FsZTogMSwgLy8gU2NhbGVzIG92ZXJhbGwgc2l6ZSBvZiB0aGUgc3Bpbm5lclxuICAgICAgICBjb3JuZXJzOiAwLjgsIC8vIENvcm5lciByb3VuZG5lc3MgKDAuLjEpXG4gICAgICAgIGNvbG9yOiAnIzAwQzNGRicsIC8vICNyZ2Igb3IgI3JyZ2diYiBvciBhcnJheSBvZiBjb2xvcnNcbiAgICAgICAgb3BhY2l0eTogMC4xNSwgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcbiAgICAgICAgcm90YXRlOiAwLCAvLyBUaGUgcm90YXRpb24gb2Zmc2V0XG4gICAgICAgIGRpcmVjdGlvbjogMSwgLy8gMTogY2xvY2t3aXNlLCAtMTogY291bnRlcmNsb2Nrd2lzZVxuICAgICAgICBzcGVlZDogMSwgLy8gUm91bmRzIHBlciBzZWNvbmRcbiAgICAgICAgdHJhaWw6IDYwLCAvLyBBZnRlcmdsb3cgcGVyY2VudGFnZVxuICAgICAgICBmcHM6IDIwLCAvLyBGcmFtZXMgcGVyIHNlY29uZCB3aGVuIHVzaW5nIHNldFRpbWVvdXQoKSBhcyBhIGZhbGxiYWNrIGZvciBDU1NcbiAgICAgICAgekluZGV4OiAyZTksIC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxuICAgICAgICBjbGFzc05hbWU6ICdzcGlubmVyJywgLy8gVGhlIENTUyBjbGFzcyB0byBhc3NpZ24gdG8gdGhlIHNwaW5uZXJcbiAgICAgICAgdG9wOiAnNTAlJywgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxuICAgICAgICBsZWZ0OiAnNTAlJywgLy8gTGVmdCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcbiAgICAgICAgc2hhZG93OiBmYWxzZSwgLy8gV2hldGhlciB0byByZW5kZXIgYSBzaGFkb3dcbiAgICAgICAgaHdhY2NlbDogZmFsc2UsIC8vIFdoZXRoZXIgdG8gdXNlIGhhcmR3YXJlIGFjY2VsZXJhdGlvblxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXG4gICAgfTtcblxuYWpheHNwaW5lci5zdGFydCA9IGZ1bmN0aW9uIChzcGlubmVyU2l6ZSwgc3Bpbm5lckNvbnRhaW5lciwgaXNTcGlubmVyTG9hZGluZ1RleHQsIGlzT3ZlcmxheURpdikge1xuICAgIHNwaW5uZXJDb250YWluZXIgPSBzcGlubmVyQ29udGFpbmVyIHx8ICdib2R5JztcbiAgICB2YXIgc3Bpbm5lclNpemUgPSBzcGlubmVyU2l6ZSB8fCAnbGFyZ2UnLFxuICAgICAgICBpc1NwaW5uZXJMb2FkaW5nVGV4dCA9IGlzU3Bpbm5lckxvYWRpbmdUZXh0IHx8IGZhbHNlLFxuICAgICAgICBpc092ZXJsYXlEaXYgPSB0eXBlb2YgaXNPdmVybGF5RGl2ICE9PSAndW5kZWZpbmVkJyA/IGlzT3ZlcmxheURpdiA6IHRydWUsXG4gICAgICAgIG9wdHM7XG5cbiAgICBzd2l0Y2ggKHNwaW5uZXJTaXplKSB7XG4gICAgICAgIGNhc2UgJ3NtYWxsJzpcbiAgICAgICAgICAgIG9wdHMgPSAkLmV4dGVuZChkZWZhdWx0T3B0cywgeyBsaW5lczogMTEsIGxlbmd0aDogOCwgd2lkdGg6IDMsIHJhZGl1czogNiB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtZWRpdW0nOlxuICAgICAgICAgICAgb3B0cyA9ICQuZXh0ZW5kKGRlZmF1bHRPcHRzLCB7IGxpbmVzOiAxMSwgbGVuZ3RoOiAxMCwgd2lkdGg6IDUsIHJhZGl1czogMTEgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogLy9sYXJnZSBzaXplIGZvciBwYWdlXG4gICAgICAgICAgICBvcHRzID0gZGVmYXVsdE9wdHM7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy92YXIgYmFzZUNsYXNzID0gdGhpcztcbiAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzcGlubmVyQ29udGFpbmVyKTtcblxuICAgIC8vY2hlY2sgYW5kIGFkZCBcInBvc2l0aW9uOiByZWxhdGl2ZVwiIGZvciBzcGlubmVyIGNvbnRhaW5lclxuICAgIGlmICh0YXJnZXQuc3R5bGUucG9zaXRpb24gIT09ICdhYnNvbHV0ZScgfHwgdGFyZ2V0LnN0eWxlLnBvc2l0aW9uICE9PSAncmVsYXRpdmUnKSB7XG4gICAgICAgIHRhcmdldC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgfVxuXG4gICAgLy9hZGQgYWpheCBvdmVybGF5IGRpdlxuICAgIGlmIChpc092ZXJsYXlEaXYgIT09IGZhbHNlKSB7XG4gICAgICAgIHZhciBvdmVybGF5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG92ZXJsYXlEaXYuY2xhc3NMaXN0LmFkZCgnYWpheC1vdmVybGF5Jyk7XG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChvdmVybGF5RGl2KTtcbiAgICB9XG5cbiAgICBzcGlubmVyID0gbmV3IFNwaW5uZXIob3B0cykuc3Bpbih0YXJnZXQpO1xuICAgIGlmICh0eXBlb2YgaXNTcGlubmVyTG9hZGluZ1RleHQgIT09ICd1bmRlZmluZWQnICYmIGlzU3Bpbm5lckxvYWRpbmdUZXh0ID09PSB0cnVlKSB7XG4gICAgICAgIHZhciBzcGlubmVyTG9hZGluZ1RleHREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdmFyIHRleHROb3RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ0xvYWRpbmcgbW9yZSAuLi4nKTtcbiAgICAgICAgc3Bpbm5lckxvYWRpbmdUZXh0RGl2LmFwcGVuZENoaWxkKHRleHROb3RlKTtcbiAgICAgICAgc3Bpbm5lckxvYWRpbmdUZXh0RGl2LmNsYXNzTGlzdC5hZGQoJ3NwaW5uZXJMb2FkaW5nVGV4dCcpOyAgICAgICAgXG4gICAgICAgIHNwaW5uZXJMb2FkaW5nVGV4dERpdi5jbGFzc0xpc3QuYWRkKHNwaW5uZXJTaXplKTtcbiAgICAgICAgc3Bpbm5lci5lbC5hcHBlbmRDaGlsZChzcGlubmVyTG9hZGluZ1RleHREaXYpO1xuICAgIH1cbn07XG5cbmFqYXhzcGluZXIuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzcGlubmVyLnN0b3AoKTtcbiAgICAkKHNwaW5uZXJDb250YWluZXIpLmZpbmQoJy5hamF4LW92ZXJsYXknKS5yZW1vdmUoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYWpheHNwaW5lcjsiLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHtcbiAgICBpZih0eXBlb2YgdXNlcklkICE9PSAndW5kZWZpbmVkJyAmJiB1c2VySWQgIT09ICcnKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciB1dGlsID0ge1xuICAgIGlzQXV0aGVudGljYXRlZDogaXNBdXRoZW50aWNhdGVkXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV0aWw7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKTtcblxuZnVuY3Rpb24gdG9nZ2xlTWVudSgpIHtcbiAgICAkKCcudG9nZ2xlLW1lbnUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygnbW9iaWxlLW1lbnUnKTtcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIHRvZ2dsZU1lbnUoKTtcbiAgICBzZWFyY2guaW5pdCgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBpbml0OiBpbml0XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBiaW5kQXV0b0NvbXBsZXRlKGRhdGEpIHtcbiAgICB2YXIgJHNlYXJjaFN1Z2dlc3Rpb24gPSAkKCcjc2VhcmNoLXN1Z2dlc3Rpb24nKTsgICAgXG4gICAgJHNlYXJjaFN1Z2dlc3Rpb24uZW1wdHkoKTsgXG5cbiAgICBpZihkYXRhID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsZW4gPSBkYXRhLnN1Z2dlc3Rpb25zLmxlbmd0aDtcbiAgICB2YXIgcmVzdWx0ID0gJzx1bD4nOyAgICBcbiAgICAkLmVhY2goZGF0YS5zdWdnZXN0aW9ucywgZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHsgICAgICAgIFxuICAgICAgICByZXN1bHQgKz0gJzxsaT48YSBocmVmPVwiL3NlYXJjaD93b3JkPScgKyBpdGVtLnNlbGVjdCArICcmdHlwZT12aVwiPicgKyAkKGl0ZW0uZGF0YSkuaHRtbCgpICsgJzwvYT48L2xpPic7XG4gICAgfSk7XG4gICAgJHNlYXJjaFN1Z2dlc3Rpb24uYXBwZW5kKHJlc3VsdCArICc8L3VsPicpO1xufVxuXG5mdW5jdGlvbiBzZWFyY2hBdXRvY29tcGxldGUoKSB7XG4gICAgJChcIiN3b3JkXCIpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHNlbGYgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgd29yZCA9ICRzZWxmLnZhbCgpLnRyaW0oKTtcbiAgICAgICAgaWYod29yZCA9PT0gJycpIHtcbiAgICAgICAgICAgIGJpbmRBdXRvQ29tcGxldGUobnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gXG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogXCIvYXBpL3ZpZGljdC9hdXRvY29tcGxldGUvXCIgKyAkKHRoaXMpLnZhbCgpLnRyaW0oKSwgICAgICAgICAgICAgIFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHsgICAgICBcbiAgICAgICAgICAgICAgICBiaW5kQXV0b0NvbXBsZXRlKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTsgICAgIFxuICAgIH0pOyAgICBcbn1cblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBzZWFyY2hBdXRvY29tcGxldGUoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaW5pdDogaW5pdFxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zb2xlLmxvZygnSG9tZSBQYWdlJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGluaXQ6IGluaXRcbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgnLi4vaGVscGVycy91dGlsJyk7XG5cbmZ1bmN0aW9uIGFkZFRvTGlzdCgpIHtcbiAgICAkKCcjYWRkVG9MaXN0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmKCF1dGlsLmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICAgICAgICAkLm1hZ25pZmljUG9wdXAub3Blbih7XG4gICAgICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3JjOiAnLmF1dGhlbi1wb3B1cCcsIC8vIGNhbiBiZSBhIEhUTUwgc3RyaW5nLCBqUXVlcnkgb2JqZWN0LCBvciBDU1Mgc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2lubGluZSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQubWFnbmlmaWNQb3B1cC5vcGVuKHtcbiAgICAgICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgICAgICBzcmM6ICcuYWRkLXRvLWxpc3QtcG9wdXAnLCAvLyBjYW4gYmUgYSBIVE1MIHN0cmluZywgalF1ZXJ5IG9iamVjdCwgb3IgQ1NTIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbmxpbmUnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIGFkZFRvTGlzdCgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBpbml0OiBpbml0XG59Il19"}